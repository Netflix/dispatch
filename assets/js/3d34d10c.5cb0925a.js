"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6345],{5680:(e,t,n)=>{n.d(t,{xA:()=>m,yg:()=>u});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),d=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=d(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=d(n),g=r,u=p["".concat(s,".").concat(g)]||p[g]||c[g]||o;return n?a.createElement(u,i(i({ref:t},m),{},{components:n})):a.createElement(u,i({ref:t},m))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var d=2;d<o;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},9937:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var a=n(8168),r=(n(6540),n(5680));const o={description:"How to create custom incident forms"},i="Forms",l={unversionedId:"user-guide/incidents/forms",id:"user-guide/incidents/forms",title:"Forms",description:"How to create custom incident forms",source:"@site/docs/user-guide/incidents/forms.mdx",sourceDirName:"user-guide/incidents",slug:"/user-guide/incidents/forms",permalink:"/dispatch/docs/user-guide/incidents/forms",draft:!1,editUrl:"https://github.com/netflix/dispatch/edit/master/docs/docs/user-guide/incidents/forms.mdx",tags:[],version:"current",frontMatter:{description:"How to create custom incident forms"},sidebar:"userGuideSidebar",previous:{title:"Feedback",permalink:"/dispatch/docs/user-guide/incidents/feedback"},next:{title:"Participant",permalink:"/dispatch/docs/user-guide/incidents/participant"}},s={},d=[{value:"Creating a custom form",id:"creating-a-custom-form",level:2},{value:"Form schema",id:"form-schema",level:3},{value:"Conditionals",id:"conditionals",level:4},{value:"Example",id:"example",level:5},{value:"Fill out a form in an incident",id:"fill-out-a-form-in-an-incident",level:2},{value:"Attorney review",id:"attorney-review",level:2},{value:"Additional attorney questions",id:"additional-attorney-questions",level:2},{value:"Scoring schema",id:"scoring-schema",level:2}],m={toc:d},p="wrapper";function c(e){let{components:t,...o}=e;return(0,r.yg)(p,(0,a.A)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"forms"},"Forms"),(0,r.yg)("h2",{id:"creating-a-custom-form"},"Creating a custom form"),(0,r.yg)("p",null,"Within Dispatch, admins can create a custom form under Settings -> (choose Project) -> Incident / Form Types. This brings up a table of existing form types (if any). Click on the NEW button to create a new form type."),(0,r.yg)("h3",{id:"form-schema"},"Form schema"),(0,r.yg)("p",null,"The form schema takes a JSON array of form objects of the following type:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Attribute"),(0,r.yg)("th",{parentName:"tr",align:null},"Possible values"),(0,r.yg)("th",{parentName:"tr",align:null},"Notes"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"type"),(0,r.yg)("td",{parentName:"tr",align:null},"boolean, select, text, date"),(0,r.yg)("td",{parentName:"tr",align:null})),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"title"),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"this is the question")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"if"),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"conditional (see below)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"name"),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"unique identifier string")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"multiple"),(0,r.yg)("td",{parentName:"tr",align:null},"true, false"),(0,r.yg)("td",{parentName:"tr",align:null},"only for select")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"options"),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"list of options / only for select")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"hint"),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"shown as small text (optional)")))),(0,r.yg)("p",null,"The following fields are required for each form object: ",(0,r.yg)("inlineCode",{parentName:"p"},"type"),", ",(0,r.yg)("inlineCode",{parentName:"p"},"title"),", and ",(0,r.yg)("inlineCode",{parentName:"p"},"name"),". For ",(0,r.yg)("inlineCode",{parentName:"p"},"select")," types, there must be a corresponding ",(0,r.yg)("inlineCode",{parentName:"p"},"options")," attribute."),(0,r.yg)("p",null,'Note: be sure to set the form type to "Enabled" so that it will appear in the forms tab in the incident.'),(0,r.yg)("h4",{id:"conditionals"},"Conditionals"),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"if")," attribute can be a complex JavaScript boolean expression. Refer to other form items using the format ",(0,r.yg)("inlineCode",{parentName:"p"},"$<name>")," where ",(0,r.yg)("inlineCode",{parentName:"p"},"<name>")," is the unique name identifier."),(0,r.yg)("h5",{id:"example"},"Example"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},'   [\n     { "type": "boolean", "title": "Is this a good form?", "name": "good_form", "hint": "Check if you like"},\n     { "type": "select", "if": "$good_form", "title": "How good?", "options": [ "Very much", "A lot", "It\'s ok" ], "multiple": false, "name": "like_level"},\n     { "type": "text", "if": "$good_form && $like_level && $like_level.includes(\'A lot\')", "title": "Provide more feedback", "name": "feedback"}\n   ]\n')),(0,r.yg)("h2",{id:"fill-out-a-form-in-an-incident"},"Fill out a form in an incident"),(0,r.yg)("p",null,"After an incident is opened, go to the View/Edit panel and select the Forms tab at the top. This view will list all of the forms that have been filled out so far. They can either be in the Draft or Completed state. Users can either edit an existing form or create a new one based on any of the enabled form types created as above."),(0,r.yg)("p",null,"While a form is being completed, the user can ",(0,r.yg)("strong",{parentName:"p"},"Cancel")," to discard any changes, ",(0,r.yg)("strong",{parentName:"p"},"Save as Draft")," to save the filled in information and set as ",(0,r.yg)("em",{parentName:"p"},"Draft"),", or ",(0,r.yg)("strong",{parentName:"p"},"Submit")," to save and set as ",(0,r.yg)("em",{parentName:"p"},"Completed"),"."),(0,r.yg)("h2",{id:"attorney-review"},"Attorney review"),(0,r.yg)("p",null,'A new tab on the left "Forms" lists all of the ',(0,r.yg)("em",{parentName:"p"},"Draft")," and ",(0,r.yg)("em",{parentName:"p"},"Completed")," forms for leadership and attorney review. For each form, users can view/edit, delete, and a special ",(0,r.yg)("strong",{parentName:"p"},"Attorney Review")," option. This option shows relevant incident details and the values filled out in the form. It also provides an attorney status dropdown and two new fields for attorney notes and open questions."),(0,r.yg)("h2",{id:"additional-attorney-questions"},"Additional attorney questions"),(0,r.yg)("p",null,"If additional questions are required for the attorney team to assess the information on the form, each form type has the option of asking additional attorney questions. This schema follows the same format as the main form schema. The additional attorney questions will appear only on the Attorney Section when performing the Attorney Review from the Forms page."),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(8809).A,width:"1918",height:"1188"})),(0,r.yg)("h2",{id:"scoring-schema"},"Scoring schema"),(0,r.yg)("p",null,"A risk score can be calculated based on the form responses. The scoring schema is a JSON array of objects of the following type:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Attribute"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Notes"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"var"),(0,r.yg)("td",{parentName:"tr",align:null},"text"),(0,r.yg)("td",{parentName:"tr",align:null},"the corresponding variable on the form")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"includes"),(0,r.yg)("td",{parentName:"tr",align:null},"list"),(0,r.yg)("td",{parentName:"tr",align:null},"a JSON list of chosen options")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"score"),(0,r.yg)("td",{parentName:"tr",align:null},"int"),(0,r.yg)("td",{parentName:"tr",align:null},"the score to add")))),(0,r.yg)("p",null,"If the form data corresponding to ",(0,r.yg)("inlineCode",{parentName:"p"},"var")," contains any elements in the list ",(0,r.yg)("inlineCode",{parentName:"p"},"includes"),", then the value indicated by ",(0,r.yg)("inlineCode",{parentName:"p"},"score"),' is added to the Risk Score. Note that this is currently not cumulative, i.e., if there are two elements on the list in the form data, the score is only added once. For example, using the example form schema above and the below scoring schema, if the user selects "Very much", the risk score would be 10.'),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},'   [\n     { "var": "like_level", "includes": [ "Very much", "A lot" ], "score": 10},\n     { "var": "like_level", "includes": [ "It\'s ok" ], "score": 1},\n   ]\n')),(0,r.yg)("p",null,"The risk score shows up on the Forms tab in the Risk Score column as well as on the attorney summary section on the Attorney Review card."),(0,r.yg)("p",null,(0,r.yg)("img",{src:n(2182).A,width:"2758",height:"524"})))}c.isMDXComponent=!0},8809:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/attorney-section-c0d55c56212a8c642926171ca8cd1e80.png"},2182:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/example-risk-score-a8d5164386795e40d9fa7b026a86e71f.png"}}]);